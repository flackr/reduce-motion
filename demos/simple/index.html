<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../../src/polyfill.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/open-props">
    <link rel="stylesheet" href="https://unpkg.com/open-props/normalize.min.css">
    <link rel="stylesheet" href="https://unpkg.com/open-props/buttons.min.css">
    <style>
      .target {
        width: 100px;
        height: 100px;
        background: green;
      }

      body {
        display: grid;
        place-content: center;
        gap: var(--size-3);
        justify-items: start;
      }
    </style>
  </head>
  <body>
    <h3>Customize animation style</h3>
    <select class="reduce-motion"></select>
    <button>Animate</button>
    <div class="target"></div>
  </body>
  <script>
    let target = document.querySelector('.target');
    let anim = target.animate([
        {transform: ['none'], backgroundColor: 'red'},
        {transform: 'translate(300px, 0) rotate(360deg)', backgroundColor: 'green'},
        {transform: 'translate(300px, 300px) rotate(720deg)', backgroundColor: 'yellow'},
        {transform: 'translate(0, 300px) rotate(1080deg)', backgroundColor: 'blue'},
        {transform: 'translate(0, 0) rotate(1440deg)', backgroundColor: 'red'},
      ], {duration: 5000, fill: 'forwards'});
    document.querySelector('button').addEventListener('click', () => {
      anim.cancel();
      anim.play();
    });
  </script>
</html>